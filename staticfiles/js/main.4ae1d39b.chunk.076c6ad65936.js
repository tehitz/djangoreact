(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){e.exports=a(315)},315:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),c=a(20),i=a(21),s=a(24),u=a(22),p=a(25),m=(a(171),a(53)),d=a(318),h=a(322),f=a(11),g=a(99),E=a(23),y=a(28),b=a(27),v=a.n(b),O=function(e){return{type:"AUTH_SUCCESS",token:e}},j=function(e){return{type:"AUTH_FAIL",error:e}},w=function(){return localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},k=function(e){return function(t){setTimeout(function(){t(w())},1e3*e)}},T=d.a.Item,S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(t,n){t||(a.props.onAuth(n.username,n.email,n.password,n.confirm),e.forceUpdate(),a.props.history.push("/"))})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(d.a,{onSubmit:this.handleSubmit},r.a.createElement(T,null,e("userName",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(h.a,{prefix:r.a.createElement(f.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(T,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(h.a,{prefix:r.a.createElement(f.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(T,null,e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(h.a,{prefix:r.a.createElement(f.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(T,null,e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(h.a,{prefix:r.a.createElement(f.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",onBlur:this.handleConfirmBlur}))),r.a.createElement(T,null,r.a.createElement(g.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Signup"),"Or",r.a.createElement(y.c,{style:{marginRight:"10px"},to:"/login/"}," Login")))}}]),t}(r.a.Component),A=d.a.create()(S),x=Object(E.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),v.a.post("http://127.0.0.1:8000/rest-auth/registration/",{username:e,email:t,password1:a,password2:n}).then(function(e){var t=e.data.key,a=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",a),r(O(t)),r(k(3600))}).catch(function(e){r(j(e))})}}(t,a,n,r))}}})(A),I=a(321),D=a(319),C=(I.a.Title,I.a.Paragraph,I.a.Text,function(e){var t=e.type,a=e.text;return r.a.createElement("span",null,r.a.createElement(f.a,{type:t,style:{marginRight:8}}),a)}),P=function(e){return r.a.createElement(D.a,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:6},dataSource:e.data,renderItem:function(e){return r.a.createElement(D.a.Item,{key:e.title,actions:[r.a.createElement(C,{type:"star-o",text:"156"}),r.a.createElement(C,{type:"like-o",text:"156"}),r.a.createElement(C,{type:"message",text:"2"})]},r.a.createElement(D.a.Item.Meta,{title:r.a.createElement("a",{href:"/posts/".concat(e.id)},r.a.createElement("h2",null,e.title)),description:e.description}))}})},U=d.a.Item,_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleFormSubmit=function(e,t,n){e.preventDefault();var r=e.target.elements.title.value,o=e.target.elements.content.value;return v.a.defaults.headers={"Content-Type":"application/json",Authorization:a.props.token},"post"===t?v.a.post("http://127.0.0.1:8000/api/",{title:r,content:o}).then(function(e){return console.log(e)}).catch(function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}):"put"===t?v.a.put("http://127.0.0.1:8000/api/".concat(n,"/"),{title:r,content:o}).then(function(e){return console.log(e)}).catch(function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}):void 0},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=h.a.TextArea;return r.a.createElement("div",null,this.props.isAuthenticated?r.a.createElement("div",null,r.a.createElement(d.a,{onSubmit:function(t){return e.handleFormSubmit(t,e.props.requestType,e.props.articleID)}},r.a.createElement(U,{label:"Title"},r.a.createElement(h.a,{name:"title",placeholder:"Insert a title here"})),r.a.createElement(U,{label:"Content"},r.a.createElement(t,{name:"content",placeholder:"Insert your content here",rows:20})),r.a.createElement(U,null,r.a.createElement(g.a,{type:"primary",htmlType:"submit"},this.props.btnText)))):r.a.createElement("div",null))}}]),t}(r.a.Component),H=Object(E.b)(function(e){return{isAuthenticated:null!==e.token}})(_),F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={article:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.token&&(v.a.defaults.headers={"Content-Type":"application/json",Authorization:e.token},v.a.get("http://127.0.0.1:8000/api/").then(function(e){t.setState({article:e.data})}).catch(function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(P,{data:this.state.article}),r.a.createElement("br",null),this.props.isAuthenticated?r.a.createElement("h2",null," Create an article"):r.a.createElement("h2",null),r.a.createElement(H,{requestType:"post",articleID:null,btnText:"Create"})))}}]),t}(r.a.Component),R=Object(E.b)(function(e){return{token:e.token}})(F),L=a(320),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={article:{}},a.handleDelete=function(e){if(a.props.token){var t=a.props.match.params.articleID;v.a.defaults.headers={"Content-Type":"application/json",Authorization:a.props.token},v.a.delete("http://127.0.0.1:8000/api/".concat(t,"/")),a.props.history.push("/"),a.forceUpdate()}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.token){var a=this.props.match.params.articleID;v.a.defaults.headers={"Content-Type":"application/json",Authorization:e.token},v.a.get("http://127.0.0.1:8000/api/".concat(a,"/"),{crossdomain:!0}).then(function(e){t.setState({article:e.data})}).catch(function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L.a,{title:this.state.article.title},r.a.createElement("p",null,this.state.article.content)),r.a.createElement(H,{requestType:"put",articleID:this.props.match.params.articleID,btnText:"Update"}),r.a.createElement("form",{onSubmit:this.handleDelete},r.a.createElement(g.a,{type:"danger",htmlType:"submit"},"Delete")))}}]),t}(r.a.Component),z=Object(E.b)(function(e){return{token:e.token}})(q),N=a(161),B=r.a.createElement(f.a,{type:"loading",style:{fontSize:24},spin:!0}),W=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.onAuth(t.username,t.password)}),a.props.history.push("/posts/")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=null;this.props.error&&(e=r.a.createElement("p",null,this.props.error.message));var t=this.props.form.getFieldDecorator;return r.a.createElement("div",null,e,this.props.loading?r.a.createElement(N.a,{indicator:B}):r.a.createElement(d.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(d.a.Item,null,t("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(h.a,{prefix:r.a.createElement(f.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(d.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(h.a,{prefix:r.a.createElement(f.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(d.a.Item,null,r.a.createElement(g.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Login"),"Or",r.a.createElement(y.c,{style:{marginRight:"10px"},to:"/signup"}," Signup"))))}}]),t}(r.a.Component),G=d.a.create()(W),M=Object(E.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),v.a.post("http://127.0.0.1:8000/rest-auth/login/",{username:e,password:t}).then(function(e){var t=e.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",n),a(O(t)),a(k(3600))}).catch(function(e){a(j(e))})}}(t,a))}}})(G),J=a(316),V=I.a.Title,X=I.a.Paragraph,K=I.a.Text,$=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(I.a,null,r.a.createElement(V,null,"Introduction"),r.a.createElement(X,null,"In the process of internal desktop applications development, many different design specs and implementations would be involved, which might cause designers and developers difficulties and duplication and reduce the efficiency of development."),r.a.createElement(X,null,"After massive project practice and summaries, Ant Design, a design language for background applications, is refined by Ant UED Team, which aims to"," ",r.a.createElement(K,{strong:!0},"uniform the user interface specs for internal background projects, lower the unnecessary cost of design differences and implementation and liberate the resources of design and front-end development"),"."),r.a.createElement(V,{level:2},"Guidelines and Resources"),r.a.createElement(X,null,"We supply a series of design principles, practical patterns and high quality design resources (",r.a.createElement(K,{code:!0},"Sketch")," and ",r.a.createElement(K,{code:!0},"Axure"),"), to help people create their product prototypes beautifully and efficiently."),r.a.createElement(X,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/docs/spec/proximity"},"Principles")),r.a.createElement("li",null,r.a.createElement("a",{href:"/docs/pattern/navigation"},"Patterns")),r.a.createElement("li",null,r.a.createElement("a",{href:"/docs/resource/download"},"Resource Download")))),r.a.createElement(J.a,null))}}]),t}(r.a.Component),Q=function(){return r.a.createElement("div",null,r.a.createElement(m.a,{exact:!0,path:"/",component:$}),r.a.createElement(m.a,{exact:!0,path:"/posts/",component:R}),r.a.createElement(m.a,{exact:!0,path:"/posts/:articleID/",component:z}),r.a.createElement(m.a,{exact:!0,path:"/login/",component:M}),r.a.createElement(m.a,{exact:!0,path:"/signup/",component:x}))},Y=a(317),Z=a(323),ee=a(324),te=Y.a.Header,ae=Y.a.Content,ne=Y.a.Footer,re=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(Y.a,{className:"layout"},r.a.createElement(te,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(Z.b,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},this.props.isAuthenticated?r.a.createElement(Z.b.Item,{key:"3",onClick:this.props.logout},"Logout"):r.a.createElement(Z.b.Item,{key:"3"},r.a.createElement(y.b,{to:"/login/"},"Login")),r.a.createElement(Z.b.Item,{key:"2"},r.a.createElement(y.b,{to:"/posts/"},"Posts")),r.a.createElement(Z.b.Item,{key:"1"},r.a.createElement(y.b,{to:"/"},"Home")))),r.a.createElement(ae,{style:{padding:"0 50px"}},r.a.createElement(ee.a,{style:{margin:"16px 0"}},r.a.createElement(ee.a.Item,null,r.a.createElement(y.b,{to:"/login/"},"Login")),r.a.createElement(ee.a.Item,null,r.a.createElement(y.b,{to:"/posts/"},"Posts")),r.a.createElement(ee.a.Item,null,r.a.createElement(y.b,{to:"/"},"Home"))),r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},this.props.children)),r.a.createElement(ne,{style:{textAlign:"center"}}))}}]),t}(r.a.Component),oe=Object(m.d)(Object(E.b)(null,function(e){return{logout:function(){return e(w())}}})(re)),le=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(oe,this.props,r.a.createElement(Q,null))))}}]),t}(n.Component),ce=Object(E.b)(function(e){return{isAuthenticated:null!==e.token}},function(e){return{onTryAutoSignup:function(){return e(function(e){var t=localStorage.getItem("token");if(void 0===t)e(w());else{var a=new Date(localStorage.getItem("expirationDate"));a<=new Date?e(w()):(e(O(t)),e(k((a.getTime()-(new Date).getTime())/1e3)))}})}}})(le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=a(164),se=function(e,t){return Object(ie.a)({},e,t)},ue={token:null,error:null,loading:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(e,t){return se(e,{error:null,loading:!0})}(e);case"AUTH_SUCCESS":return function(e,t){return se(e,{token:t.token,error:null,loading:!1})}(e,t);case"AUTH_FAIL":return function(e,t){return se(e,{error:t.error,loading:!1})}(e,t);case"AUTH_LOGOUT":return function(e,t){return se(e,{token:null})}(e);default:return e}},me=a(65),de=a(163),he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Object(me.c)(),fe=Object(me.d)(pe,he(Object(me.a)(de.a))),ge=r.a.createElement(E.a,{store:fe},r.a.createElement(ce,null));l.a.render(ge,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[166,1,2]]]);
//# sourceMappingURL=main.4ae1d39b.chunk.js.map